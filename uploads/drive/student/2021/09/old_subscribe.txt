def subscribe(data):

    default_capacity_package = get_default_capacity_package()[0]

    package_id = default_capacity_package[0]
    student_id = data['student_id']

    if is_subscribed_to_main_package(student_id):
        if is_subscribed_to_main_pro_package(student_id):
            #get default capacity package


            # check if already subscribed
            if is_subscribed_to_capacity_package(student_id):
                if package_id == default_capacity_package and is_subscribed_to_default_capacity_package(student_id):
                    return helper.response_error("You are already subscribed in the default package.")

                return helper.response_error("You have to pay to subscribe in Pro Packages.")

            # Subscribe in default Package
            subscribe_to_default_capacity_package(student_id)
            return helper.response_success("Successfully subscribed to default package.")

        return helper.response_error("Upgrade to Pro Package to be able to subscribe Recording Capacity feature.")

    return helper.response_error("You have to subscribe to use this feature.")

